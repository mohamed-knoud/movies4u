<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="MOVIES4U - Free Movies Streaming Website">
    <!-- Add Open Graph meta tags for social media sharing -->
    <!-- HTML Meta Tags -->
<title></title>
<meta name="description" content="">

<!-- Facebook Meta Tags -->
<meta property="og:url" content="https://movies4u.free.nf/">
<meta property="og:type" content="website">
<meta property="og:title" content="MOVIES4U - Free Movies Streaming Website">
<meta property="og:description" content="Never miss a beat with seamless streaming on any device, whether you're on your couch, on the go, or snuggled up in bed. With Movies4u's user-friendly interface, you can easily browse, search,  your favorite films with just a few clicks.">
<meta property="og:image" content="content.jpg">

<!-- Twitter Meta Tags -->
<meta name="twitter:card" content="https://images.unsplash.com/photo-1616530940355-351fabd9524b?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D">
<meta property="twitter:domain" content="movies4u.free.nf">
<meta property="twitter:url" content="https://movies4u.free.nf/">
<meta name="twitter:title" content="MOVIES4U - Free Movies Streaming Website">
<meta name="twitter:description" content="MOVIES4U - Free Movies Streaming Website">
<meta name="twitter:image" content="content.jpg">

<!-- Meta Tags Generated via https://www.opengraph.xyz --> 

    <!-- Add Twitter Card meta tags for Twitter sharing -->
    <link rel="icon" href="icon.png" type="image/x-icon">
    

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MOVIES4U - Free Movies Streaming Website</title>
    <meta name="description" content="MOVIES4U - Free Movies Streaming Website">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
    <!-- Link Swiper's CSS -->
    <style>
    /* Style for the suggestion list */
    #suggestionList {
      list-style-type: none;
      padding: 0;
      border-top: none;
      border-radius:10px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      background-color: #fff;
      max-height: 200px;
      overflow-y: auto;
      width:300px;
      margin:10px auto;
      position: absolute; /* Position absolutely */
      z-index: 1; /* Ensure it appears over other elements */
      left: 50%; /* Position at 50% from the left */
      transform: translateX(-50%); /
    }
    #suggestionList::-webkit-scrollbar {
  width: 10px;
    }
    #suggestionList::-webkit-scrollbar-track {
  background: #f1f1f1; 
    border-radius: 10px;

    }
    #suggestionList::-webkit-scrollbar-thumb {
  background: #888; 
    border-radius: 10px;

    }
    #suggestionList::-webkit-scrollbar-thumb:hover {
  background: #555; 
    }

    #suggestionList li {
      padding: 10px;
      cursor: pointer;
      color:black;
    }

    #suggestionList li:hover {
      background-color: #f0f0f0;
    }
    #suggestionList li img {
      width:50px;
      height:50px;
      border-radius:50%;
    }
    #suggestionList li span {
      vertical-align:baseline;
      position:relative;
      bottom:20px;
      left:5px;
    }
  </style>
    <style>
        #loader {
        border: 4px solid rgba(255, 255, 255);
        border-left: 4px solid #3498db;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        animation: spin 1s linear infinite;
        
        margin:auto;
        z-index: 9999;
        display: block; /* Initially hide the spinner */
        }

        @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
        }

    </style>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <!-- Navbar  -->
    <header>
        <a href="#home" class="logo">
            <i class='bx bxs-movie'></i>MOVIES4U
        </a>
        <div class="bx bx-menu" id="menu-icon"></div>

        <!-- menu  -->
        <ul class="navbar">
            <li><a href="#home" class="home-active">Home</a></li>
            <li><a href="#movies">Popular</a></li>
        </ul>
    </header>

    <!-- Home  -->
    <section class="home swiper" id="home">
        <div class="swiper-wrapper">
            <div class="swiper-slide container">
                <img src="./img/home1.jpg" alt="">
                <div class="home-text">
                    <span>Marvel Universe</span>
                    <h1>Guardians of the Galaxy <br>Volume 2</h1>
                    <a href="https://vidsrc.xyz/embed/movie/283995" class="play">
                        <i class='bx bx-play' ></i>
                    </a>
                </div>
            </div>
            <div class="swiper-slide container">
                <img src="./img/home2.png" alt="">
                <div class="home-text">
                    <span>Marvel Universe</span>
                    <h1>Thor: <br>Love and Thunder</h1>
                    <a href="https://vidsrc.xyz/embed/movie/616037" class="play">
                        <i class='bx bx-play' ></i>
                    </a>
                </div>
            </div>
            <div class="swiper-slide container">
                <img src="./img/home3.jpg" alt="">
                <div class="home-text">
                    <span>Marvel Universe</span>
                    <h1>Spider-Man <br>No Way Home</h1>
                    <a href="https://vidsrc.xyz/embed/movie/634649" class="play">
                        <i class='bx bx-play' ></i>
                    </a>
                </div>
            </div>
            <div class="swiper-slide container">
                <img src="./img/home4.png" alt="">
                <div class="home-text">
                    <span>Marvel Universe</span>
                    <h1>Avengers: <br>End Game</h1>
                    <a href="https://vidsrc.xyz/embed/movie/299534" class="play">
                        <i class='bx bx-play' ></i>
                    </a>
                </div>
            </div>
            
          </div>
          <div class="swiper-pagination"></div>
    </section>
    <div style="text-align: center;"><input type="text" name="search" id='put' placeholder="Search.."><button id="btn"><i class="fa-solid fa-magnifying-glass"></i></button></div>
  <ul id="suggestionList"></ul>

    <!-- Movies  -->
    <div class="movies" id="movies">
        <!-- Movies container  -->
        <div id="movies-container" class="movies-container">
            <!-- box-1  -->
            <div id="loader"></div>
        </div>
    </div>

    <!-- coming  -->
    

    <!-- footer  -->
    <section class="footer">
        <a href="" class="logo">
            <i class="bx bxs-movie"></i>MOVIES4U
        </a>
    </section>

    <!-- Copyright  -->
    <div class="copyright">
        <p>&#169; MOVIES4U All Right Reserved</p>
    </div>

    <script>
        let id = document.getElementById('movies-container')
            const searchInput = document.getElementById('put');
    const suggestionList = document.getElementById('suggestionList');
searchInput.addEventListener('input', async () => {
      const query = searchInput.value.trim();

      // Clear previous suggestions
      suggestionList.innerHTML = '';

      if (query.length > 0) {
        try {
          const response = await fetch(`https://api-consumet-one.vercel.app/meta/tmdb/${query}`);
          const data = await response.json();
          // Display suggestions
        //   console.log(data)
          data.results.forEach(item => {
            const li = document.createElement('li');
            const img = document.createElement('img')
            if(item.image.includes('undefined') || item.image.includes('null') )
                img.src = "not.png"
            else
                img.src = item.image
            const p = document.createElement('span')
            if(item.title.length>20)
                p.textContent = item.title.slice(0, 20) + "...";
            else
                p.textContent = item.title
            li.appendChild(img) // Change 'name' to the property name you want to display
            li.appendChild(p)
            li.setAttribute('film-name',item.title)
            li.addEventListener('click',function(){
                let q = document.querySelector(`[film-name="${this.getAttribute('film-name')}"]`).textContent;
                searchInput.value = q
                document.getElementById('btn').click()
                suggestionList.innerHTML = '';
            })
            suggestionList.appendChild(li);
          });
        } catch (error) {
          console.error('Error fetching data:', error);
        }
      }
    });
        // Show the spinner
function showLoader() {
  document.getElementById("loader").style.display = "block";
}

// Hide the spinner
function hideLoader() {
  document.getElementById("loader").style.display = "none";
}
                

        document.getElementById('btn').addEventListener('click',function(){
            // Make a GET request to a URL
              id.innerHTML = '<div id="loader"></div>' // Show spinner before fetching data

fetch(`https://api-consumet-one.vercel.app/meta/tmdb/${document.getElementById('put').value}`)
  .then(response => {
    // Check if the response is successful (status code 200-299)
    if (!response.ok) {
      throw new Error('Network response was not ok');
    }
    // Parse the JSON in the response
    return response.json();
  })
  .then(data => {
    // Do something with the data
    if(data.results.length == 0){
        id.innerHTML = "No Results Found"
    }else{
    id.innerHTML = ""
    data.results.forEach(element => {
        if(element.type == "Movie"){
        let a = document.createElement('a')
        a.setAttribute('href',`https://vidsrc.xyz/embed/movie/${element.id}`)
        let div = document.createElement('div')
        div.setAttribute('class','box')
        let div2 = document.createElement('div')
        div2.setAttribute('class','box-img')
        let img = document.createElement('img')
        if(!element.image.includes('null') && !element.image.includes('undefined'))
            img.setAttribute('src',`https://image.tmdb.org/t/p/original/${element.image}`)
        else{
            img.setAttribute('src','no.jpg')
        }
        let h3 = document.createElement('h3')
        h3.textContent = element.title
       

       
        div2.appendChild(img)
        div.appendChild(div2)
        div.appendChild(h3)
        a.appendChild(div) 
        id.appendChild(a)
    }   
    });
    // hideLoader(); // Hide spinner after data is fetched
}
  })
  .catch(error => {
    // Handle any errors that occurred during the fetch
    console.error('There was a problem with the fetch operation:', error);
  });

        })
    </script>

    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
    <script src="main.js"></script>
    <script>
        
        var genres =[
    {
        "id": 28,
        "name": "Action"
    },
    {
        "id": 12,
        "name": "Adventure"
    },
    {
        "id": 16,
        "name": "Animation"
    },
    {
        "id": 35,
        "name": "Comedy"
    },
    {
        "id": 80,
        "name": "Crime"
    },
    {
        "id": 99,
        "name": "Documentary"
    },
    {
        "id": 18,
        "name": "Drama"
    },
    {
        "id": 10751,
        "name": "Family"
    },
    {
        "id": 14,
        "name": "Fantasy"
    },
    {
        "id": 36,
        "name": "History"
    },
    {
        "id": 27,
        "name": "Horror"
    },
    {
        "id": 10402,
        "name": "Music"
    },
    {
        "id": 9648,
        "name": "Mystery"
    },
    {
        "id": 10749,
        "name": "Romance"
    },
    {
        "id": 878,
        "name": "Science Fiction"
    },
    {
        "id": 10770,
        "name": "TV Movie"
    },
    {
        "id": 53,
        "name": "Thriller"
    },
    {
        "id": 10752,
        "name": "War"
    },
    {
        "id": 37,
        "name": "Western"
    }
]
        function findGenreById(id) {
            return genres.find(genre => genre.id === id);
        }
    </script>
    <script>
        const options = {
  method: 'GET',
  headers: {
    accept: 'application/json',
    Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyNmYzOTcwNGJhOTEwMjlkM2NhZDY3MzQwY2E2ODYwMCIsInN1YiI6IjY2MzZhNzk0OTU5MGUzMDEyM2JjNDlhNSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.ImAuflKe7r_PCIM-jUc8wa9hCTYlwFWQqhQaIXgKVhI'
  }
};

fetch('https://api.themoviedb.org/3/movie/popular?language=en-US&page=1', options)
  .then(response => response.json())
  .then(response => {
    
    
    // console.log(response)
    // <div class="box">
    //             <div class="box-img">
    //                 <img src="./img/m1.jpg" alt="">
    //             </div>
    //             <h3>Dr.Strange</h3>
    //             <span>120 min | Action</span>
    //         </div>
    response.results.forEach(element => {
        let gen = []
        let a = document.createElement('a')
        a.setAttribute('href',`https://vidsrc.xyz/embed/movie/${element.id}`)
        let span = document.createElement('span')
        let div = document.createElement('div')
        div.setAttribute('class','box')
        let div2 = document.createElement('div')
        div2.setAttribute('class','box-img')
        let img = document.createElement('img')
        img.setAttribute('src',`https://image.tmdb.org/t/p/original/${element.backdrop_path}`)
        let h3 = document.createElement('h3')
        h3.textContent = element.original_title
        element.genre_ids.forEach(e=>{
            gen.push(findGenreById(e).name)
            // console.log(e)
        })

       
        span.textContent = gen.toString();
        div2.appendChild(img)
        div.appendChild(div2)
        div.appendChild(h3)
        div.appendChild(span)
        a.appendChild(div) 
        id.appendChild(a)   
    });
    
      hideLoader(); // Hide spinner after data is fetched

  })
  .catch(err => console.error(err));

    </script>


<script>
</script>

    
</body>
</html>
